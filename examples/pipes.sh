#!/bin/bash -x

sshell "rm_pash_fifos() { { rm -f /tmp/pash_43w43hwc/#fifo2 ; } { { rm -f /tmp/pash_43w43hwc/#fifo4 ; } { { rm -f /tmp/pash_43w43hwc/#fifo7 ; } { { rm -f /tmp/pash_43w43hwc/#fifo8 ; } { { rm -f /tmp/pash_43w43hwc/#fifo9 ; } { { rm -f /tmp/pash_43w43hwc/#fifo10 ; } { { rm -f /tmp/pash_43w43hwc/#fifo11 ; } { { rm -f /tmp/pash_43w43hwc/#fifo12 ; } { { rm -f /tmp/pash_43w43hwc/#fifo13 ; } { { rm -f /tmp/pash_43w43hwc/#fifo14 ; } { { rm -f /tmp/pash_43w43hwc/#fifo15 ; } { { rm -f /tmp/pash_43w43hwc/#fifo16 ; } { rm -f /tmp/pash_43w43hwc/#fifo17 ; } ; } ; } ; } ; } ; } ; } ; } ; } ; } ; } ; } } mkfifo_pash_fifos() { { mkfifo /tmp/pash_43w43hwc/#fifo2 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo4 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo7 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo8 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo9 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo10 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo11 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo12 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo13 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo14 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo15 ; } { { mkfifo /tmp/pash_43w43hwc/#fifo16 ; } { mkfifo /tmp/pash_43w43hwc/#fifo17 ; } ; } ; } ; } ; } ; } ; } ; } ; } ; } ; } ; } } rm_pash_fifos mkfifo_pash_fifos { cat /pash/evaluation/benchmarks/unix50/input/1.txt >/tmp/pash_43w43hwc/#fifo2 & } { /pash/runtime/auto-split.sh /tmp/pash_43w43hwc/#fifo2 /tmp/pash_43w43hwc/#fifo7 /tmp/pash_43w43hwc/#fifo8 & } { cut -d | awk '{print \$0}END{print \"EOF\"}' > /mnt/efsimttsp/0b271b84-bf95-11eb-93e1-d7498aab28c4" &

sshell "tail -n +0 --pid=\$\$ -f --retry /mnt/efsimttsp/0b271b84-bf95-11eb-93e1-d7498aab28c4 2>/dev/null | { sed \"/EOF/ q\" && kill \$\$ ;} | grep -v ^EOF\$ | -f 2 </tmp/pash_43w43hwc/#fifo15 >/tmp/pash_43w43hwc/#fifo10 & } { cut -d | awk '{print \$0}END{print \"EOF\"}' > /mnt/efsimttsp/0b28027e-bf95-11eb-84d6-17b3c23a79b7" &

sshell "tail -n +0 --pid=\$\$ -f --retry /mnt/efsimttsp/0b28027e-bf95-11eb-84d6-17b3c23a79b7 2>/dev/null | { sed \"/EOF/ q\" && kill \$\$ ;} | grep -v ^EOF\$ | -f 2 </tmp/pash_43w43hwc/#fifo8 >/tmp/pash_43w43hwc/#fifo11 & } { sort </tmp/pash_43w43hwc/#fifo10 >/tmp/pash_43w43hwc/#fifo12 & } { sort </tmp/pash_43w43hwc/#fifo11 >/tmp/pash_43w43hwc/#fifo13 & } { /pash/runtime/eager.sh /tmp/pash_43w43hwc/#fifo7 /tmp/pash_43w43hwc/#fifo15 /tmp/pash_eager_intermediate_#fifo1 & } { /pash/runtime/eager.sh /tmp/pash_43w43hwc/#fifo12 /tmp/pash_43w43hwc/#fifo16 /tmp/pash_eager_intermediate_#fifo2 & } { /pash/runtime/eager.sh /tmp/pash_43w43hwc/#fifo13 /tmp/pash_43w43hwc/#fifo17 /tmp/pash_eager_intermediate_#fifo3 & } { sort -m /tmp/pash_43w43hwc/#fifo16 /tmp/pash_43w43hwc/#fifo17 >2.out & } source /pash/runtime/wait_for_output_and_sigpipe_rest.sh rm_pash_fifos"

sshell "rm -f /mnt/efsimttsp/0b271b84-bf95-11eb-93e1-d7498aab28c4" &

sshell "rm -f /mnt/efsimttsp/0b28027e-bf95-11eb-84d6-17b3c23a79b7" &

wait
